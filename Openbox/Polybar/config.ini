[bar/main]
; font-0: Fonte principal de texto
font-0 = Noto Sans:size=10
; font-1: Fonte Nerd Font para Ícones (offset 4)
font-1 = Meslo LGS Nerd Font Mono:size=18;4

monitor = ${env:MONITOR:DisplayPort-0}
width = 98%
height = 26
radius = 15
override-redirect = false
wm-restack = generic
layer = top

; Módulos
modules-left = player
modules-center = xworkspaces
modules-right = pulseaudio network date

; Offset
offset-x = 1%
offset-y = 5

; Cores
background = #1e1e2e
foreground = #cdd6f4

; Borda
border-size = 2
border-color = #e9658d

; Padding
padding-left = 2
padding-right = 2
module-margin = 1
spacing = 2

[global/wm]

margin-bottom = 8

[module/player]
type = custom/script
interval = 1

; NOVO COMANDO EXEC:
; O --format verifica o 'status' e substitui o texto ("Playing", "Paused")
; pelo ícone correspondente ( ou ) antes de imprimir o Artista/Música.
exec = playerctl metadata --player=brave,spotify,firefox --format '{{ status }} {{ artist }} - {{ title }}' | sed 's/Playing/ /; s/Paused/ /; s/Stopped/ /'
format = <label>
; O ícone agora está no 'exec', então não precisamos de prefixo.
; format-prefix = " " ; REMOVER ESTA LINHA

format-prefix = " "
format-prefix-foreground = #f5c2e7
label = %output%
label-maxlen = 35
format-foreground = #f5c2e7 

; Play e pause
click-left = playerctl play-pause

[module/xworkspaces]
type = internal/xworkspaces
enable-ipc = true

PADDING = 2

; Cores dinâmicas para sair do monocromático
ACTIVE_COLOR = #e9658d
OCCUPIED_COLOR = #2a2b3c
EMPTY_COLOR = #313244

; ===================================================
; WORKSPACE ATIVA 
; ===================================================
label-active = %index%
label-active-padding = ${self.PADDING}
label-active-background = ${self.ACTIVE_COLOR} 
label-active-foreground = #ffffffe2
label-active-underline = #000000 
label-active-overline = #000000 

; ===================================================
; WORKSPACE OCUPADA 
; ===================================================
label-occupied = %index%
label-occupied-padding = ${self.PADDING}
label-occupied-background = ${self.OCCUPIED_COLOR} 
label-occupied-foreground = #f5c2e7
label-occupied-overline = #000000
label-occupied-underline = #000000

; ===================================================
; WORKSPACE VAZIA 
; ===================================================
label-empty = %index%
label-empty-padding = ${self.PADDING}
label-empty-background = ${self.EMPTY_COLOR}
label-empty-foreground = #ffffff
label-empty-overline = #000000
label-empty-underline = #000000

; ===================================================
; AÇÃO DE CLIQUE (APLICA O XRANDR E TROCA A WORKSPACE)
; ATENÇÃO: SUBSTITUA <NomeDoMonitor> pelo valor real!
; ===================================================
click-left = xrandr --output DisplayPort-0 --mode 1280x1024 --rate 75.02 &

; Ações de Scroll (Opcional, mas útil para navegação)
scroll-down = xworkspaces action next
scroll-up = xworkspaces action prev

[module/network]
type = internal/network
interface = enp3s0
interval = 1 

; -------------------------------------------------------------------
; FORMATO DE EXIBIÇÃO CONECTADO
; -------------------------------------------------------------------

format-connected = <label-connected>
format-connected-padding = 1
format-connected-prefix = ""
format-connected-prefix-foreground = #98C379

; CORREÇÃO DEFINITIVA: 
; 1. Define a label como um espaço em branco para evitar o nome da interface
label-connected = " "
; 2. Define o tamanho mínimo do label para zero, garantindo que apenas o prefixo seja renderizado.
label-connected-minwidth = 0 


; -------------------------------------------------------------------
; FORMATO PARA DESCONECTADO
; -------------------------------------------------------------------

format-disconnected = <label-disconnected>
label-disconnected = "Offline"
format-disconnected-prefix = "❌"
format-disconnected-prefix-foreground = #E06C75

[module/date]
type = internal/date
; Atualiza a cada 1 segundo
interval = 1
time = %H:%M
date = %d/%m/%Y

label = %time% | %date%

[module/pulseaudio]
type = internal/pulseaudio
enable-sink = true
enable-source = false
use-ui-max-volume = false
interval = 1

format-volume = <label-volume><bar-volume>
label-volume =  %percentage%%
label-muted =  Muted
bar-volume-width = 10
bar-volume-indicator =
bar-volume-fill = ━
bar-volume-empty = ─
bar-volume-fill-foreground = #e9658d
bar-volume-empty-foreground = #3cb18c

click-middle = exec pactl set-sink-mute @DEFAULT_SINK@ toggle
